{"version":3,"file":"static/js/0.2c58dc33.chunk.js","mappings":"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","sources":["common/api/getNextSearchKey.ts","common/api/queryCollection.ts","common/api/index.ts","common/api/types.ts","common/api/handelers.ts","common/api/domainApi.ts","common/api/firebaseConnection.ts","common/api/mapDataBaseRuleToRule.ts","common/commands/index.ts","common/commands/authenticateFirebaseWithProviderEffect.ts","common/commands/makeAppSpecificAuthenticationCommands.ts","common/component/AppLayout/index.tsx","common/component/SwipeBox/index.tsx","common/component/Avatar/index.tsx","common/component/Calendar/CalendarToolbar.tsx","common/component/Calendar/index.tsx","common/component/Calendar/lessonToCalendarEventMap.ts","common/component/Calendar/timeSlots.ts","common/component/Card/index.tsx","common/component/ClickOutsideHandler/index.tsx","common/component/ClickOutsideHandler/ClickOutsideHook.ts","common/component/DropDownMenu/index.tsx","common/component/Footer/index.tsx","common/component/Header/index.tsx","common/component/IconButton/index.tsx","common/component/IconButtonMenu/index.tsx","common/component/IconNavButton/index.tsx","common/component/LessonHeader/IconLesson.tsx","common/component/LessonHeader/lessonDateDistanse.ts","common/component/LessonHeader/lessonHeaderText.ts","common/component/LessonHeader/index.tsx","common/component/LessonHeader/lessonHeaderCollor.ts","common/component/MetricStyled/index.tsx","common/component/SearchField/index.tsx","common/component/Select/index.tsx","common/component/TextButton/index.tsx","common/component/TextField/index.tsx","common/component/WarningMasage/index.tsx","common/component/types.ts","common/selectors/userProfileSelectors.ts","common/store/editingEntitySlice.ts","common/store/externalResourceSlice.ts","common/store/userProfile.ts","common/types/domain.ts","common/utilities/RulePreviewCalendarFunctions/getDateWithTimeStart.ts","common/utilities/RulePreviewCalendarFunctions/getPreviewLessons.ts","common/utilities/getRuleFormatted.ts","common/utilities/getWeekDayRepresentation.ts","common/utilities/mapFirebaseUser.ts","common/api/firebaseMessaging.ts","common/utilities/messaging.ts","teacher/hoc/NotificationButton/index.tsx","teacher/selectors/dom.ts","teacher/selectors/novigation.ts","teacher/store/modal/index.ts"],"sourcesContent":["export function getNextSearchKey(search: string): string {\n\n  const lastChar = search.charAt(search.length - 1);\n  const lastCharCode = lastChar.charCodeAt(0);\n\n  const nextChar = String.fromCharCode(lastCharCode + 1);\n\n  const nextSearch = search.slice(0, search.length - 1) + nextChar;\n\n  return nextSearch;\n}\n","import { \n  CollectionReference, \n  DocumentData, \n  getDocs, \n  query, \n  where, \n  QueryDocumentSnapshot, \n  Query, \n  documentId,  \n  limit\n} from \"firebase/firestore\";\nimport { IHaveId, id } from \"../types/domain\";\nimport { IExternalResourceFilters, searchFields } from \"../store/externalResourceSlice\";\nimport { OwnerIdFields } from \".\";\nimport { getNextSearchKey } from \"./getNextSearchKey\";\n\nconst maxDocumentCount = 200;\n\nexport const executeQuery = async (\n  documentQuery: Query<DocumentData>\n): Promise<IHaveId[]> => {\n  const limitedQuesry = query(documentQuery, limit(maxDocumentCount));\n\n  const docs = await getDocs(limitedQuesry);\n\n  const snashot: IHaveId[] = [];\n  docs.docs.forEach((currentDocument, index) => {\n    const documentData = transformFirebaseDocudent(currentDocument);\n    snashot.push(documentData);\n  });\n  return snashot;\n}\n\nexport const queryCollectionWithFilters = async (\n  collection: CollectionReference,\n  {ids, startDate, search, endDate}: Partial<IExternalResourceFilters> = {},\n  ouwnerIdField: OwnerIdFields = OwnerIdFields.ouwner,\n  ouwnerIdFieldValue: id = '',\n): Promise<IHaveId[]> => {\n  let documentQuery = query(collection);\n\n  if(ouwnerIdField && ouwnerIdFieldValue){\n    documentQuery = query(documentQuery, where(ouwnerIdField, \"==\", ouwnerIdFieldValue));\n  }\n\n  if(ids && ids.length === 0){\n    return [];\n  }\n\n  if(ids && ids.length){\n    documentQuery = query(documentQuery, where(documentId(), \"in\", ids));\n  }\n\n  if(startDate && endDate){\n    documentQuery = query(documentQuery, where(\"date\", \">=\", startDate));\n    documentQuery = query(documentQuery, where(\"date\", \"<=\", endDate));\n  }\n\n  let documentQuerys: Query<DocumentData>[] = [];\n\n  if(search){\n    documentQuerys = searchFields.map((field: string) => {\n      const nextSearchKey: string = getNextSearchKey(search);\n      const fieldQuery = query(documentQuery, where(field, \">=\", search), where(field, \"<\", nextSearchKey));\n      return fieldQuery;\n    }); \n  }\n\n\n  if(!!documentQuerys.length){\n    const docs = await Promise.all(documentQuerys.map((documentQuery) => executeQuery(documentQuery)));\n\n    const uniqueDocs = Array.from(new Set(docs.flat().map(doc => JSON.stringify(doc)))).map(doc => JSON.parse(doc));\n\n    return uniqueDocs;\n\n  } else {\n    const docs = await executeQuery(documentQuery);  \n    return docs;\n  }\n}\n\nexport const transformFirebaseDocudent = (currentDocument: QueryDocumentSnapshot<DocumentData>): IHaveId => {\n  const data = currentDocument.data();\n  const id = currentDocument.id;\n  return {\n    id,\n    ...data,\n  }\n}\n","import { addDoc, collection, deleteDoc, doc, Firestore, getDoc, setDoc } from \"firebase/firestore\";\nimport { IExternalResourceFilters } from \"../store/externalResourceSlice\";\nimport { IHaveId, id } from \"../types/domain\";\nimport { queryCollectionWithFilters } from \"./queryCollection\";\nimport { CreateType } from \"./types\";\n\nexport interface ICollectionHandeler<Data extends IHaveId> {\n  create: (createData: CreateType<Data>) => Promise<id>;\n  update: (updateData: Data & IHaveId) => Promise<void>;\n  delete: (id: id) => Promise<void>;\n  list: (ouwnerIdFieldValue: id, filters?: Partial<IExternalResourceFilters>) => Promise<Data[]>;\n  single: (id: id) => Promise<Data>;\n}\n\nexport enum OwnerIdFields {\n  teacherId = 'teacherId',\n  studentId = 'studentId',\n  ouwner = 'id',\n} \n\nexport const createCollectionHandeler = <Data extends IHaveId>(\n  db: Firestore, \n  collectionName: string, \n  ouwnerIdField: OwnerIdFields = OwnerIdFields.ouwner,\n): ICollectionHandeler<Data> => {\n  const collectionRef = collection(db, collectionName);\n  return {\n    create: async (createData) => {\n      const documentRef = await addDoc(collectionRef, createData);\n      const newDocId = documentRef.id;\n      return newDocId;\n    },\n    update: async ({id, ...rest}) => {\n      const document = doc(db, collectionName, id);\n      await setDoc(document, rest);\n    },\n    delete: async (id) => {\n      const document = doc(db, collectionName, id);\n      await deleteDoc(document);\n    },\n    list: async (ownerId, filters = {}) => {\n      const data = await queryCollectionWithFilters(collectionRef, filters, ouwnerIdField, ownerId) as Data[];\n      return data;\n    },\n    single: async (id) => {\n      const document = doc(db, collectionName, id);\n      const documentReference = await getDoc(document);\n      const documentData = documentReference.data();\n\n      const fullDocument = {\n        ...documentData,\n        id,\n      } as Data;\n        return fullDocument;   \n    }\n  }\n};\n\nexport const createEmptyCollectionHandeler = <Data extends IHaveId>(db: Firestore, collectionName: string): ICollectionHandeler<Data> => {\n  return {\n    create: async (createData) => {\n      return '42';\n    },\n    update: async ({id, ...rest}) => {\n      \n    },\n    delete: async (id) => {\n      \n    },\n    list: async () => {\n      return [];\n    },\n    single: async (id) => {\n      return { id: '42' } as Data;\n    }\n  }\n};\n","export type CreateType<Data> = Omit<Data, \"id\">;\n\nexport enum EnvPrefixes {\n  production = \"\",\n  dev = \"dev_\",\n  test = \"test_\",\n}\n\nexport enum DataBaseCollections {\n  teacher = \"teacher\",\n  student = \"student\",\n  subject = \"subject\",\n  rules = \"rules\",\n  abonementOffer = \"abonementOffer\",\n  studentAbonements = \"studentAbonements\",\n  users = \"users\",\n  lessons = \"lessons\",\n  notifications = \"notifications\",\n  abonementConsumable = \"abonementConsumable\",\n}\n","import { Firestore, Timestamp } from \"firebase/firestore\";\nimport { OwnerIdFields, createCollectionHandeler } from \".\";\nimport { database } from \"./firebaseConnection\";\nimport { IAbonementConsumable, IAbonementOffer, ILesson, IRule, IStudent, ISubject, ITeacher, IUser } from \"../types/domain\";\nimport { DataBaseCollections, EnvPrefixes } from \"./types\";\n\ntype OmitDateLesson = Omit<ILesson, 'date' >;\n\nexport interface IDataBaseLesson extends OmitDateLesson {\n  date: Timestamp;\n};\n\ntype OmitDateRule = Omit<IRule, 'timeStart' >;\n\nexport interface IDataBaseRule extends OmitDateRule {\n  timeStart: Timestamp;\n}\n\nconst createAPIHandelers = (db: Firestore, prefix: string = \"\", collectionHandelerCreator = createCollectionHandeler) => {\n  return {\n    teacherAPIHandeler: collectionHandelerCreator<ITeacher>(db, `${prefix}${DataBaseCollections.teacher}`, OwnerIdFields.ouwner),\n    studentAPIHandeler: collectionHandelerCreator<IStudent>(db, `${prefix}${DataBaseCollections.student}`, OwnerIdFields.ouwner),\n    subjectApiHandeler: collectionHandelerCreator<ISubject>(db, `${prefix}${DataBaseCollections.subject}`, OwnerIdFields.teacherId),\n    rulesApiHandeler: collectionHandelerCreator<IDataBaseRule>(db, `${prefix}${DataBaseCollections.rules}`, OwnerIdFields.teacherId),\n    abonementOffer: collectionHandelerCreator<IAbonementOffer>(db, `${prefix}${DataBaseCollections.abonementOffer}`, OwnerIdFields.teacherId),\n    userAPIHandeler: collectionHandelerCreator<IUser>(db, `${prefix}${DataBaseCollections.users}`, OwnerIdFields.teacherId),\n    lessonAPIHandeler: collectionHandelerCreator<IDataBaseLesson>(db, `${prefix}${DataBaseCollections.lessons}`, OwnerIdFields.teacherId),\n    abonementConsumable: collectionHandelerCreator<IAbonementConsumable>(db, `${prefix}${DataBaseCollections.abonementConsumable}`, OwnerIdFields.studentId),\n  }\n}\n\nconst productionHandelers = createAPIHandelers(database, EnvPrefixes.production);\nconst devHandelers = createAPIHandelers(database, EnvPrefixes.dev);\nconst testHandelers = createAPIHandelers(database, EnvPrefixes.test);\n\nexport const getDomainHandelers = (): ReturnType<typeof createAPIHandelers> => {\n  const nodeEnv = process.env.NODE_ENV;\n  const devEnv = process.env.REACT_APP_DEVELOPMENT === 'true';\n\n  if (devEnv) {\n    return devHandelers;\n  }\n\n  switch (nodeEnv) {\n    case 'production': return productionHandelers;\n    case 'development': return devHandelers;\n    case 'test': return testHandelers;\n    default: return testHandelers;\n  }\n}\n","import { \n  IRule, id, \n} from \"../types/domain\";\nimport { ISubjectView, ITeacherView } from \"../types/teacherDomainView\";\nimport { IDataBaseRule, getDomainHandelers } from \"./handelers\";\nimport { mapDataBaseRuleToRule } from \"./mapDataBaseRuleToRule\";\n\nexport const domainHandelers = getDomainHandelers();\n\nexport const readSubjectViewApiCall = async (id: id): Promise<ISubjectView | undefined> => {\n  const subjectEntity = await domainHandelers.subjectApiHandeler.single(id);\n\n  if (!!subjectEntity.id) {\n    const rulesIds = subjectEntity.rules;\n    const rulesDatabase = await domainHandelers.rulesApiHandeler.list('', { ids: rulesIds });\n    const rulesEntities = rulesDatabase.map(mapDataBaseRuleToRule);\n    return {\n      ...subjectEntity,\n      rules: rulesEntities,\n    }\n  } else {\n    return {\n      id: '',\n      name: '',\n      description: '',\n      rules: [],\n      teacherId: '',\n    }\n  }\n};\n\n\nexport const readTeacherViewApiCall = async (id: id): Promise<ITeacherView> => {\n  const data = await domainHandelers.teacherAPIHandeler.single(id);\n  const { abonementOffers = [], subjects = [], ...rest } = data || {};\n\n  const abonementsData = await domainHandelers.abonementOffer.list(id, { ids: abonementOffers });\n  const subjectsData = await domainHandelers.subjectApiHandeler.list(id, { ids: subjects });\n  const subjectRulesIds = subjectsData.flatMap(({rules}) => rules);\n  const rules = await domainHandelers.rulesApiHandeler.list(id, {ids: subjectRulesIds});\n\n  const subjectViews = subjectsData.map((subject): ISubjectView => {\n    const thisSubjectRules = subject.rules.map((id) => rules.find(({id: itemId}) => itemId === id));\n    const viewDataBaseRules = thisSubjectRules.filter((item) => !!item) as IDataBaseRule[];\n    const viewRules: IRule[] = viewDataBaseRules.map(mapDataBaseRuleToRule);\n\n    return {\n      ...subject,\n      rules: viewRules,\n    }\n  })\n\n  const teacherView: ITeacherView = {\n    ...rest,\n    abonementOffers: abonementsData,\n    subjects: subjectViews,\n  }\n\n  return teacherView;\n};\n","import { FirebaseOptions, initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { GoogleAuthProvider, FacebookAuthProvider } from \"firebase/auth\";\nimport { getAuth } from \"firebase/auth\";\n\nexport const firebaseConfig: FirebaseOptions = {\n  apiKey: \"AIzaSyBukxDcZuMixceGjludm13n-m8q0A_Yrkk\",\n  authDomain: \"abonement-58b38.firebaseapp.com\",\n  projectId: \"abonement-58b38\",\n  storageBucket: \"abonement-58b38.appspot.com\",\n  messagingSenderId: \"932261391054\",\n  appId: \"1:932261391054:web:67438e41441d2f23c97e9f\",\n  measurementId: \"G-RXMGLTLS3W\",\n  // databaseURL: \"https://abonement-58b38-default-rtdb.firebaseio.com/\",\n};\n\nexport const app = initializeApp(firebaseConfig);\nexport const database = getFirestore(app);\n\nexport const googleAuthProvider = new GoogleAuthProvider();\nexport const facebookAuthProvider = new FacebookAuthProvider();\nexport const auth = getAuth();\n","import { IRule } from \"../types/domain\";\nimport { IDataBaseRule } from \"./handelers\";\n\nexport const mapDataBaseRuleToRule = (dataBaseRule: IDataBaseRule): IRule => {\n  const { timeStart, ...rest } = dataBaseRule;\n  return {\n    ...rest,\n    timeStart: timeStart.toDate(),\n  }\n}","import { signOut } from \"firebase/auth\";\nimport { call, put } from \"redux-saga/effects\";\nimport { auth } from \"../api/firebaseConnection\";\nimport { userProfileSlice } from \"../store/userProfile\";\nimport { createCommand } from \"cet-redux-saga-toolkit\";\nimport { requestPermission } from \"../utilities/messaging\";\n\nexport const signOutCommand = createCommand<void>(\n  'signOut',\n  function* () {\n    yield call(signOut, auth);\n    yield put(userProfileSlice.actions.resetUserProfileState());\n  },\n);\n\nexport const checkNotificationsPermissionCommand = createCommand<void>(\n  'checkNotificationsPermission',\n  function* () {\n    const token = yield call(requestPermission);\n    yield put(userProfileSlice.actions.setNotificationsToken(token));\n  },\n);\n","import { Auth, AuthProvider, signInWithPopup, User  } from \"firebase/auth\";\nimport { call, put } from \"redux-saga/effects\";\nimport { userProfileSlice } from \"../store/userProfile\";\nimport { mapFirebaseUser } from \"../utilities/mapFirebaseUser\";\n\nexport const authenticateFirebaseWithProviderEffect = function*(auth: Auth, authProvider: AuthProvider) {\n  yield call(signInWithPopup, auth, authProvider);\n}\n\nexport const writeUserToStateEffect = function*(user: User) {\n  const userProfile = mapFirebaseUser(user.providerData[0]);\n  yield put(userProfileSlice.actions.setUserProfileState(userProfile));\n}\n","import { User } from \"firebase/auth\";\nimport { createCommand } from \"cet-redux-saga-toolkit\";\nimport { authenticateFirebaseWithProviderEffect, writeUserToStateEffect } from \"./authenticateFirebaseWithProviderEffect\";\nimport { CallEffect, select } from \"redux-saga/effects\";\nimport { auth, facebookAuthProvider, googleAuthProvider } from \"../api/firebaseConnection\";\nimport { FirebaseUserInfo } from \"../types/utility\";\nimport { IHaveId } from \"../types/domain\";\nimport { selectUserProfile } from \"../selectors/userProfileSelectors\";\n\ninterface AppSpecificAuthCommands {\n  alreadyAuthenticatedUser: any;\n  authenticateWithFirebase: any;\n  authenticateFacebook: any;\n}\n\ntype createEntityFromUserEffect = (user: User) => Generator<CallEffect<void>, void, unknown>;\ntype createEntityFromProfileEffect = (user: FirebaseUserInfo) => Generator<CallEffect<void> | CallEffect<IHaveId>, void, IHaveId>;\n\nexport const makeAppSpecificCommands = (\n  createNewEntityEffect: createEntityFromUserEffect,\n  createNewEntiryFromProfile: createEntityFromProfileEffect\n): AppSpecificAuthCommands => {\n  const alreadyAuthenticatedUser = createCommand<User>(\n    'alreadyAuthenticatedUser',\n    function*({payload: user}) {\n      console.log('alreadyAuthenticatedUser', user);\n      \n      yield writeUserToStateEffect(user);\n      yield createNewEntityEffect(user);\n    }\n  )\n  \n  const authenticateWithFirebase = createCommand<void>(\n    'authenticateWithFirebase',\n    function* () {\n      console.log('authenticateWithFirebase')\n      yield authenticateFirebaseWithProviderEffect(auth, googleAuthProvider);\n      const userProfile: FirebaseUserInfo = yield select(selectUserProfile);\n      yield createNewEntiryFromProfile(userProfile);\n    },\n  );\n  \n  const authenticateFacebook = createCommand<void>(\n    'authenticateWithFacebook',\n    function*() {\n      yield authenticateFirebaseWithProviderEffect(auth, facebookAuthProvider);\n      const userProfile: FirebaseUserInfo = yield select(selectUserProfile);\n      yield createNewEntiryFromProfile(userProfile);\n    }\n  )\n\n  return {\n    alreadyAuthenticatedUser,\n    authenticateWithFirebase,\n    authenticateFacebook,\n  }  \n}\n","import styled from \"@emotion/styled\";\nimport { footerHeight } from \"../Footer\";\nimport { headerHeight } from \"../Header\";\nimport { SwipeBox } from \"../SwipeBox\";\n\nexport const AppLayoutFull = styled(SwipeBox)`\n    position: absolute;\n    top: ${headerHeight}px;\n    left: 0;\n    height: calc(100% - ${headerHeight + footerHeight}px);\n    width: 100%;\n    overflow: auto;\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;        \n`;\n\n","import { Box, BoxProps } from '@mui/material';\nimport React, { useState, MouseEvent } from 'react';\nimport { useSwipeable } from 'react-swipeable';\nimport { CommonElementProps } from '../../../common/component/types';\n\ninterface MousePosition {\n  x: number;\n  y: number;\n}\n\nexport interface ISwipeBoxProps extends BoxProps, CommonElementProps {\n    onSwipeRight: () => void;\n    onSwipeLeft: () => void;\n    onSwipeUp?: () => void;\n    onSwipeDown?: () => void;\n}\n\nexport const SwipeBox: React.FC<ISwipeBoxProps> = ({ children, onSwipeLeft, onSwipeRight, onSwipeUp, onSwipeDown, ...rest}) => {\n    const [mouseDown, setMouseDown] = useState<MousePosition | null>(null);\n\n    const handlers = useSwipeable({\n      onSwiped: (eventData) => {\n        switch(eventData.dir) {\n          case 'Left':\n            onSwipeLeft();\n            break;\n          case 'Right':\n            onSwipeRight();\n            break;\n          case 'Up':\n            onSwipeUp?.();\n            break;\n          case 'Down':\n            onSwipeDown?.();\n            break;\n          default:\n          // no default case\n        }\n      }\n    });\n  \nconst handleMouseDown = (e: MouseEvent<HTMLDivElement>) => {\n    setMouseDown({ x: e.clientX, y: e.clientY });\n  };\n\n  const handleMouseUp = (e: MouseEvent<HTMLDivElement>) => {\n    if (mouseDown) {\n      const deltaX = e.clientX - mouseDown.x;\n      const deltaY = e.clientY - mouseDown.y;\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n\n      if (absX > absY) {\n        if (deltaX > 0) {\n            onSwipeRight();\n        } else {\n            onSwipeLeft();\n        }\n      } else {\n        if (deltaY > 0) {\n          onSwipeDown?.();\n        } else {\n          onSwipeUp?.();\n        }\n      }\n\n      setMouseDown(null);\n    }\n  };\n\n  return (\n    <Box\n      {...handlers}\n      {...rest}\n      onMouseDown={handleMouseDown}\n      onMouseUp={handleMouseUp}\n    >\n        {children}\n    </Box>\n  );\n}\n\n","import { Avatar as AvatarMUI, AvatarProps } from '@mui/material';\nimport React from 'react';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IAvatarProps extends CommonElementProps, AvatarProps {\n    image: string;\n    size: number;\n    onClick: () => void;\n}\n\nexport const Avatar: React.FC<IAvatarProps> = ({image, size, ...rest}) => {\n    return (\n        <AvatarMUI sx={{ width: size, height: size }} src={image} {...rest} />\n    );\n}\n","import { format } from 'date-fns';\nimport { Grid, IconButton, Typography } from '@mui/material';\n\nimport TodayTwoToneIcon from '@mui/icons-material/TodayTwoTone';\nimport ArrowForwardTwoToneIcon from '@mui/icons-material/ArrowForwardTwoTone';\nimport ArrowBackTwoToneIcon from '@mui/icons-material/ArrowBackTwoTone';\n\n\nexport interface ICalendarToolbarProps {\n  startDate: Date;\n  onChengeDateForward?: () => void;\n  onChengeDateBackward?: () => void;\n  onToday?: () => void;\n}\n\nexport const CalendarToolbar: React.FC<ICalendarToolbarProps> = ({ startDate, onChengeDateForward, onChengeDateBackward, onToday}) => {\n\n  return (\n    <Grid\n      container\n      spacing={3}\n      alignItems=\"center\"\n      justifyContent=\"space-around\"\n    >\n      <Grid item>\n          <IconButton color=\"primary\" onClick={onChengeDateBackward}>\n            <ArrowBackTwoToneIcon />\n          </IconButton>\n          <IconButton\n            color=\"primary\"\n            sx={{\n              mx: 1\n            }}\n            onClick={onToday}\n          >\n            <TodayTwoToneIcon />\n          </IconButton>\n          <IconButton color=\"primary\" onClick={onChengeDateForward}>\n            <ArrowForwardTwoToneIcon />\n          </IconButton>\n      </Grid>\n      <Grid\n        item\n      >\n        <Typography variant=\"h6\" color=\"text.primary\">\n          {format(startDate, 'dd MMMM yyyy')}\n        </Typography>\n      </Grid>\n    </Grid>\n  );\n};\n","import React, { LegacyRef, useEffect, useRef } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport { ILesson, LessonStatus, LessonsPreviewSource, id } from '../../../common/types/domain';\nimport { Box } from '@mui/material';\nimport { EventClickArg } from '@fullcalendar/core';\nimport { WarningMasage } from '../WarningMasage';\nimport { lessonToCalendarEventMap } from './lessonToCalendarEventMap';\nimport { CommonElementProps } from '../../../common/component/types';\nimport { CalendarToolbar } from './CalendarToolbar';\nimport { slotMaxTime, slotMinTime } from './timeSlots';\n\nexport interface ICalendarProps extends CommonElementProps {\n    lessons: ILesson[ ];\n    representationType: FullCalendarView\n    onLessonClick: (id:id) => void;\n    warningOnOverlapingEvents?: boolean;\n    startDate: Date;\n    onChengeDateForward: () => void;\n    onChengeDateBackward: () => void;\n    onToday: () => void;\n};\nexport interface ICalendarEvent {\n  id: id;\n  title: string;\n  start: string | Date;\n  end: string | Date;\n  color: string;\n};\n\nexport const EventColors = {\n  [LessonStatus.scheduled]: '#1661e4',\n  [LessonStatus.commingSoon]: '#f3e817',\n  [LessonStatus.inProcess]: '#e46116',\n  [LessonStatus.finished]: '#3fca0d',\n  [LessonStatus.done]: '#16e438',\n  [LessonStatus.canceled]: '#e80f0f',\n\n  [LessonsPreviewSource.outerSchedule]: '#1661e4',\n  [LessonsPreviewSource.thisSubjectSchedule]: '#3fca0d',\n  [LessonsPreviewSource.editingRuleSchedule]: '#e46116',\n}\n\nexport enum FullCalendarView {\n  timeGridWeek = 'timeGridWeek',\n  listWeek = 'listWeek',\n};\n\n\n\nexport const Calendar: React.FC<ICalendarProps> = ({\n  lessons, \n  representationType, \n  onLessonClick, \n  warningOnOverlapingEvents, \n  startDate,\n  onChengeDateForward, \n  onChengeDateBackward,\n  onToday, \n  ...rest\n}) => {\n  const calendarRef: LegacyRef<FullCalendar> = useRef(null);\n  const calendarAPI = (calendarRef.current as any)?.getApi()\n  const hasCalendarAPI = !!calendarAPI;\n\n  useEffect(() => {\n    if ( hasCalendarAPI ) {\n      calendarAPI.changeView(representationType);\n    }\n  },[representationType, hasCalendarAPI, calendarAPI]);\n\n  useEffect(() => {\n    if ( hasCalendarAPI ) {\n      const calendarDateValue: number = calendarAPI.getDate().getTime();\n      const startDateValue: number = startDate.getTime();\n\n      if (calendarDateValue !== startDateValue) {\n        calendarAPI.gotoDate(startDate);\n      }\n    }\n  },[startDate, hasCalendarAPI, calendarAPI]);\n\n  const lessonToView: ICalendarEvent[] = lessonToCalendarEventMap(lessons);\n\n  const masage = `you can't be in two places at the same time, clarify your plans`\n\n  const handleDateToday = () => {\n    const calItem = calendarRef.current;\n\n    if (calItem) {\n      const calApi = calItem.getApi();\n\n      calApi.today();\n      onToday();\n    }\n  };\n\n  const handleDatePrevious = () => {\n    const calItem = calendarRef.current;\n\n    if (calItem) {\n      const calApi = calItem.getApi();\n\n      calApi.prev();\n      onChengeDateBackward();\n    }\n  };\n\n  const handleDateNext = () => {\n    const calItem = calendarRef.current;\n\n    if (calItem) {\n      const calApi = calItem.getApi();\n\n      calApi.next();\n      onChengeDateForward();\n    }\n  };\n\n  return (\n      <Box \n        {...rest}\n        flexGrow={1}\n        overflow='auto'\n      >\n        {warningOnOverlapingEvents&&\n          <WarningMasage mesage={masage}/>\n        }\n        <CalendarToolbar \n          startDate={startDate} \n          onChengeDateBackward={handleDatePrevious}\n          onChengeDateForward={handleDateNext}\n          onToday={handleDateToday}\n        />\n        <FullCalendar\n          contentHeight='auto'\n          ref={calendarRef}\n          dayHeaderFormat={{weekday: 'short', day: 'numeric', }}\n          titleFormat={{month: 'short', day: 'numeric'}}\n          initialDate={startDate}\n          headerToolbar={false}\n          slotMinTime= {slotMinTime}\n          slotMaxTime= {slotMaxTime}\n          initialView={representationType}\n          eventClick={(event: EventClickArg)=> {\n            const publicId = event.event.id;\n            onLessonClick(publicId);\n          }}\n          eventResizableFromStart\n          events={lessonToView}\n          plugins={[\n            dayGridPlugin,\n            timeGridPlugin,\n            interactionPlugin,\n            listPlugin\n          ]}\n        />\n      </Box>\n    );\n}\n","import { EventColors, ICalendarEvent } from \".\";\nimport { ILesson, LessonsPreviewSource } from \"../../../common/types/domain\";\n\nexport const lessonToCalendarEventMap = (lessons: ILesson[], lessonsPreviewSource?: LessonsPreviewSource ): ICalendarEvent[] => {\n  \n  const lessonToView: ICalendarEvent[] = lessons.map((lesson) => {\n    const color = EventColors[lessonsPreviewSource || lesson.status];\n    const start = lesson.date;\n    const startMinuts = start.getMinutes();\n    const end = new Date(start);\n    end.setMinutes(startMinuts + lesson.durationMin);\n    \n    return ({\n      id: lesson.id,\n      title: lesson.subject.name,\n      start: start,\n      end: end,\n      color: color\n    })\n  });\n  return lessonToView;\n};","\nexport const slotMinTime=  \"07:00:00\";\n \nexport const slotMaxTime=  \"24:00:00\";","import { Box, Card as MuiCard } from '@mui/material';\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface ICardProps extends CommonElementProps {\n  children: (React.ReactNode | undefined)[];\n  onClick: ()=>void;\n}\n\nexport const StyledCard = styled(MuiCard)`\n  padding: 0 16px 0 16px;\n  height: 85px;\n  align-items: center;\n  margin-bottom: 10px ;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledBox = styled(Box)`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const Card: React.FC<ICardProps> = ({children, onClick, ...rest}) => {\n  const [topLeft, topRight, bottomLeft, bottomRight] = children;\n  const hasFirstRow = topLeft || topRight;\n  const hasSecondRow = bottomLeft || bottomRight;\n  const isSingleRow = !(hasFirstRow && hasSecondRow);\n  const isSingleTopRight = (!topLeft) && topRight;\n  const isSingleBottomRight = (!bottomLeft) && bottomRight;\n  return (\n    <StyledCard \n      {...rest}\n      sx={{\n        justifyContent: isSingleRow?'center':'space-between'\n      }} \n      onClick={onClick}\n    >\n      {hasFirstRow&&\n        <StyledBox flexDirection={isSingleTopRight?'row-reverse':{}}>\n          {topLeft&&<Box>{topLeft}</Box>}\n          {topRight&&<Box>{topRight}</Box>}\n        </StyledBox>}\n      {hasSecondRow&&\n        <StyledBox flexDirection={isSingleBottomRight?'row-reverse':{}}>\n          {bottomLeft&&<Box>{bottomLeft}</Box>}\n          {bottomRight&&<Box>{bottomRight}</Box>}\n        </StyledBox>}\n    </StyledCard>\n  );\n}\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { CommonElementProps } from '../../../common/component/types';\nimport { useClickOutside } from './ClickOutsideHook';\n\nexport interface IClickOutsideHandlerProps extends CommonElementProps {\n  onClickOutside?: () => void;\n}\n\nexport const ClickOutsideHandler: React.FC<IClickOutsideHandlerProps> = ({ children, onClickOutside}) => {\n  const { ref, handleInternalClick } = useClickOutside(onClickOutside);\n\n  return (\n    <Box ref={ref} onClick={handleInternalClick}>\n      {children}\n    </Box>\n  );\n};","import React from 'react';\nimport { useEffect, useState } from 'react';\n\nexport const useClickOutside = (onClickOutside?: ()=>void) => {\n\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [internalClick, setInternalClick] = useState(false);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        ref.current && \n        !ref.current.contains(event.target as Node) && \n        !internalClick \n      ) {\n        onClickOutside && onClickOutside();\n      }\n      setInternalClick(false);\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [onClickOutside, internalClick]);\n\n  const handleInternalClick = () => {\n    setInternalClick(true);\n  };\n\n  return { ref, handleInternalClick };\n};","import React from 'react';\nimport Button from '@mui/material/Button';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { IHaveId, id } from '../../../common/types/domain';\nimport { Box, Typography } from '@mui/material';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IDropDownMenuProps extends CommonElementProps {\n  title: string;\n  options: IOption[];\n  currentOption: id;\n  onChange: (id:string)=> void;\n}\n\nexport interface IOption extends IHaveId {\n  title: string;\n}\n\nexport const DropDownMenu: React.FC<IDropDownMenuProps> = ({title, options, currentOption, onChange,  ...rest}) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Box {...rest}>\n      <Button\n        id=\"menu-button\"\n        aria-controls={open ? 'drop-down-menu' : undefined}\n        aria-haspopup=\"true\"\n        aria-expanded={open ? 'true' : undefined}\n        variant=\"text\"\n        disableElevation\n        onClick={handleClick}\n        endIcon={<KeyboardArrowDownIcon color='disabled'/>}\n      >\n        <Typography color='#000' variant='body2' textTransform='none'>\n          {title}\n        </Typography>\n      </Button>\n      <Menu\n        id=\"drop-down-menu\"\n        MenuListProps={{\n          'aria-labelledby': 'menu-button',\n        }}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        sx={{padding: '0px',}}\n      >\n          {!!options && options.map((option)=>{\n              const isSelected: boolean = currentOption === option.id\n              return(\n                  <MenuItem \n                    key={option.id}\n                    selected={isSelected} \n                    onClick={ () => {\n                      onChange(option.id);\n                      handleClose();\n                    }} \n                    dense\n                  >\n                  {option.title}\n                </MenuItem>\n              );\n          })}\n      </Menu>\n    </Box>\n  );\n}\n","import styled from '@emotion/styled';\nimport { Card } from '@mui/material';\nimport React, { PropsWithChildren } from 'react';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IFooterProps extends CommonElementProps, PropsWithChildren {}\n\nexport const footerHeight = 76;\n\nexport const FooterCard = styled(Card)`\n  height: ${footerHeight}px;\n  width: 100%;\n  box-sizing: border-box;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  justify-content: space-between;\n  padding: 1rem;\n  align-items: center;\n  display: flex;\n`;\n\nexport const Footer: React.FC<IFooterProps> = ({children, ...rest}) => {\n  return (\n    <FooterCard {...rest} elevation={3}>\n      {children}\n    </FooterCard>\n  );\n}\n","import styled from '@emotion/styled';\nimport { Card } from '@mui/material';\nimport React, { PropsWithChildren } from 'react';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IHeaderProps extends CommonElementProps, PropsWithChildren {\n}\n\nexport const headerHeight = 60;\n\nexport const HederCard = styled(Card)`\n  height: ${headerHeight}px;\n  width: 100%;\n  box-sizing: border-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  justify-content: space-between;\n  padding: 1rem;\n  align-items: center;\n  display: flex;\n`;\n\n\nexport const Header: React.FC<IHeaderProps> = ({children, ...rest}) => {\n    return (\n        <HederCard {...rest}>\n            {children}\n        </HederCard>\n    );\n}\n","import { IconButton as MUIIconButton } from '@mui/material';\nimport React from 'react';\nimport { ButtonType, IconVariant } from '../IconNavButton';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IIconButtonProps extends CommonElementProps {\n    type: ButtonType\n    image?: string;\n    onClick: () => void;\n    disabled?: boolean;\n}\n\nexport const IconButton: React.FC<IIconButtonProps> = ({onClick, type, disabled, ...rest}) => {\n    const Component = IconVariant[type];\n\n    const ref = React.useRef<HTMLButtonElement>(null);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        event.stopPropagation();\n        if (ref.current && ref.current.contains(event.target as HTMLElement)) {\n            onClick();\n        }\n    };\n    \n\n    return (\n        <MUIIconButton ref = {ref} onClick={handleClick} disabled={disabled}>\n            <Component/>\n        </MUIIconButton>\n    );\n}\n","import { Box, IconButton, Menu, MenuItem } from '@mui/material';\nimport React from 'react';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport { CommonElementProps } from '../../../common/component/types';\nimport FilterListIcon from '@mui/icons-material/FilterList';\n\nexport interface IIconButtonMenuProps extends CommonElementProps {\n    options: IMenuOption[ ];\n    isFilter?: boolean;\n}\n\nexport interface IMenuOption {\n    title: string;\n    command: ()=>any;\n}\n\nexport const IconButtonMenu: React.FC<IIconButtonMenuProps> = ({options, isFilter, ...rest}) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Box {...rest}>\n      <IconButton\n        id=\"menu-IconButton\"\n        aria-controls={open ? 'IconButton-menu' : undefined}\n        aria-haspopup=\"true\"\n        aria-expanded={open ? 'true' : undefined}\n        onClick={handleClick}\n      >\n        {isFilter ? <FilterListIcon/> : <MoreHorizIcon/>}\n      </IconButton>\n      <Menu\n        id=\"IconButton-menu\"\n        MenuListProps={{\n          'aria-labelledby': 'menu-IconButton',\n        }}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        sx={{padding: '0px',}}\n      >\n          {!!options && options.map((option) => {\n              return (\n                  <MenuItem \n                    key={option.title}\n                    onClick={(event) => {\n                      option.command();\n                      event.stopPropagation();\n                      handleClose();\n                    }} \n                    dense\n                  >\n                  {option.title}\n                </MenuItem>\n              );\n          })}\n      </Menu>\n    </Box>\n  );\n}\n\n","import React from 'react';\nimport CheckTwoToneIcon from '@mui/icons-material/CheckTwoTone';\nimport PendingActionsIcon from '@mui/icons-material/PendingActions';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport AutoStoriesOutlinedIcon from '@mui/icons-material/AutoStoriesOutlined';\nimport AddCardIcon from '@mui/icons-material/AddCard';\nimport HowToRegIcon from '@mui/icons-material/HowToReg';\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport Avatar from '@mui/material/Avatar';\nimport { Box, IconButton, Typography } from '@mui/material';\nimport styled from '@emotion/styled';\nimport { CommonElementProps } from '../../../common/component/types';\nimport SearchIcon from '@mui/icons-material/Search';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\n\n\nexport interface IIconNavButtonProps extends CommonElementProps {\n    type: ButtonType\n    isActive?: boolean;\n    image?: string;\n    onClick: () => void;\n    title?: string;\n}\n\nexport enum ButtonType {\n    schedule = 'schedule',\n    avatar = 'avatar',\n    subjects = 'subjects',\n    abonements = 'abonements',\n    accepted = 'accepted',\n    pending = 'pending',\n    declained = 'declained',\n    cancel = 'cancel',\n    confirm = 'confirm',\n    more = 'more',\n    notifications = 'notifications',\n    search = 'search',\n    info = 'info',\n    arrowBack = 'arrowBack',\n}\n\nconst SizedAvatar = styled(Avatar)`\n  width: 100%;\n  height: 100%;\n`\nexport interface IAppAvatarProps extends CommonElementProps {\n  image?: string;\n}\n\nexport const AppAvatar: React.FC <IAppAvatarProps> = ({image, ...rest}) =>{\n  return(\n    <Box padding=\"1px\" width=\"24px\" height=\"24px\" borderRadius=\"50%\" {...rest}>\n      <SizedAvatar\n        src={image}\n      />\n    </Box>);\n};\n\nexport const IconVariant =\n{\n  [ButtonType.schedule]: CalendarMonthIcon,\n  [ButtonType.avatar]:AppAvatar,\n  [ButtonType.subjects]:AutoStoriesOutlinedIcon,\n  [ButtonType.abonements]:AddCardIcon,\n  [ButtonType.accepted]:HowToRegIcon,\n  [ButtonType.pending]:PendingActionsIcon,\n  [ButtonType.declained]:PersonRemoveIcon,\n  [ButtonType.cancel]:ClearIcon,\n  [ButtonType.confirm]:CheckTwoToneIcon,\n  [ButtonType.more]:MoreHorizIcon,\n  [ButtonType.notifications]:NotificationsIcon,\n  [ButtonType.search]:SearchIcon,\n  [ButtonType.info]:InfoOutlinedIcon,\n  [ButtonType.arrowBack]:ArrowBackIosNewIcon,\n}\n\nconst activeStyle = {borderBottom:\"3px solid #9c27b0\"};\nexport const activeAvatarStyle = {border:\"2px solid #9c27b0\",};\n\nexport const IconNavButton: React.FC<IIconNavButtonProps> = ({isActive, onClick, type, title, image, ...rest}) => {\n  const Component = IconVariant[type];\n    return (\n        <IconButton\n          {...rest as any} \n          onClick={onClick}\n        >\n\n          {(type !== ButtonType.avatar)?\n            <Box display=\"block\" sx={ isActive? activeStyle : {} } >\n              <Component color={isActive?'secondary':'disabled'}/>\n                { !!title && <Typography fontSize={\"0.7rem\"} variant='body2' marginTop=\"-6px\" color={isActive?'secondary':'disabled'}>\n                  {title}\n                </Typography> }\n            </Box>:\n            <Component color={isActive?'secondary':'disabled'} sx={ isActive? activeAvatarStyle : {}} image={image}/>\n          }\n        </IconButton>\n    );\n}\n","import React from 'react';\nimport { LessonStatus } from '../../../common/types/domain';\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\nimport UpdateIcon from '@mui/icons-material/Update';\nimport PlayCircleOutlineIcon from '@mui/icons-material/PlayCircleOutline';\nimport SportsScoreIcon from '@mui/icons-material/SportsScore';\nimport DoneIcon from '@mui/icons-material/Done';\nimport CloseIcon from '@mui/icons-material/Close';\n\nexport const IconLesson: React.FC <{status: LessonStatus}> = ({status}) => {\n  switch(status){\n    case (LessonStatus.scheduled):\n      return (<EventAvailableIcon fontSize='large'/>);\n    case (LessonStatus.canceled):\n      return (<CloseIcon fontSize='large'/>);\n    case (LessonStatus.commingSoon):\n      return (<UpdateIcon fontSize='large'/>);\n    case (LessonStatus.done):\n      return (<DoneIcon fontSize='large'/>);\n    case (LessonStatus.finished):\n      return (<SportsScoreIcon fontSize='large'/>);\n    case (LessonStatus.inProcess):\n      return (<PlayCircleOutlineIcon color='success' fontSize='large'/>); \n  }\n};","import { \n  format, \n  differenceInHours,\n  formatDistance\n} from 'date-fns';\n\nexport const formatDateDistance = (date: Date) => {\n  const thisMoment = new Date();\n  const distanceInHours = differenceInHours(thisMoment, date);\n  const closeTime = Math.abs(distanceInHours) < 24;;\n  \n  if (closeTime) {\n    return `${formatDistance(date, thisMoment, { addSuffix: true })} at ${format(date, 'HH:mm')}`;\n  } else {\n    return `${formatDistance(date, thisMoment, { addSuffix: true })}`;\n  }\n};\n","import { LessonStatus } from \"../../../common/types/domain\";\nimport { format, formatDistanceStrict } from 'date-fns';\nimport { formatDateDistance } from \"./lessonDateDistanse\";\n\n\nexport const getText = (status: LessonStatus, date: Date) => {\n  switch(status){\n    case (LessonStatus.scheduled):\n      return (\n        `Scheduled ${format(date, 'dd.MM.yyyy HH:mm')}`\n      );\n    case (LessonStatus.canceled):\n      return (`Canceled`);\n    case (LessonStatus.commingSoon):\n      return (`Comming Soon ${formatDateDistance(date)}`)\n    case (LessonStatus.done):\n      return (`Done`);\n    case (LessonStatus.finished):\n      return (`Finished`);\n    case (LessonStatus.inProcess):\n      return (\n        `Started ${formatDistanceStrict(date, new Date(),{addSuffix: true})}`\n      ); \n  }\n};\n","import Alert from '@mui/material/Alert';\nimport Card from '@mui/material/Card/Card';\nimport Typography from '@mui/material/Typography';\nimport React from 'react';\nimport { LessonStatus } from '../../../common/types/domain';\nimport { IconLesson } from './IconLesson';\nimport { IMenuOption, IconButtonMenu } from '../IconButtonMenu';\nimport { getText } from './lessonHeaderText';\nimport { getCollor } from './lessonHeaderCollor';\nimport { CommonElementProps } from '../../../common/component/types';\nimport { headerHeight } from '../Header';\nimport styled from '@emotion/styled';\n\n\nexport interface ILessonHeaderProps extends CommonElementProps {\n  type:LessonStatus;\n  title: string; \n  scheduled: Date; \n  onCancel: ()=>any; \n}\n\nexport const TitleStyledTypography = styled(Typography)`\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 17rem;\n`\nconst LessonHeaderCard = styled(Card)`\n  padding: 0;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: ${headerHeight};\n`\n\nexport const LessonHeader: React.FC<ILessonHeaderProps> = ({title, type, scheduled, onCancel, ...rest}) => {\n  const colorAlert = getCollor(type);\n  const canCancel: boolean = ((type === LessonStatus.scheduled) || (type === LessonStatus.commingSoon));\n  const text = getText(type, scheduled);\n  const cancelMenuOptions: IMenuOption[] = [{title: 'Cancel', command: onCancel }];\n  return (\n    <LessonHeaderCard  {...rest} \n      elevation={3}\n    >\n      <Alert\n        sx={{alignItems:'center'}}\n        color= {colorAlert}\n        icon={<IconLesson status={type}/>}\n        action={canCancel && <IconButtonMenu options={cancelMenuOptions}/>}\n      >\n        <TitleStyledTypography \n          variant='body1'\n          fontWeight={'bold'} \n        >\n          {title}\n        </TitleStyledTypography>\n        <TitleStyledTypography variant='body2'>\n          {text}\n        </TitleStyledTypography>\n      </Alert>   \n    </LessonHeaderCard>\n  );\n}\n","import { LessonStatus } from \"../../../common/types/domain\";\n\nexport const getCollor = (status: LessonStatus) => {\n  if (status === LessonStatus.canceled) {\n    return 'error'\n  } else if (status === LessonStatus.commingSoon) {\n    return 'warning'\n  } else if (status === LessonStatus.scheduled) {\n    return 'info'\n  } else return 'success'    \n};\n","import styled from \"@emotion/styled\";\nimport { Box } from \"@mui/material\";\n\nexport const ProfileWrapper = styled(Box)`\n    display: flex;\n    flex-direction: column;\n`;\nexport const MetricsContainer = styled(Box)`\n    display: flex;\n    justify-content: center;\n    flex-direction: row;\n`;\nexport const MetricItemContainer = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 30%;\n`;\n\nexport const DescriptionContainer = styled(Box)`\n    padding: 0 1rem;\n    box-sizing: content-box;\n    left: 0;\n`;\n","import { Button, Card, TextField, Typography } from '@mui/material';\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport { IOption } from '../DropDownMenu';\nimport { id } from '../../types/domain';\nimport { Select } from '../Select';\n\ninterface ISelectSearchProps {\n  searchOptions?: IOption[];\n  currentOption?: id;\n  onOptionChange?: (id: id)=> void;\n}\n\nexport interface ISearchFieldProps extends ISelectSearchProps, React.HTMLAttributes<HTMLInputElement> {\n  text: string;\n  onChangeSearch: (text:string) => void;\n  onSearch: () => any;\n  placeHolder?: string;\n}\n\nconst StyledCard = styled(Card)`\n  width: 100%;\n  height: 40px;\n  border-radius: 4px;\n  display: flex;\n  margin-bottom: 1rem;\n`;\n\nconst StyledButton = styled(Button)`\n  border-radius: 0px 4px 4px 0px;\n  text-transform: none;\n  padding: 0 18px;\n`;\n\nconst SearchFieldSelect = styled(Select)`\n  .MuiSelect-select.MuiSelect-outlined.MuiInputBase-input.MuiOutlinedInput-input {\n    padding-top: 3px;\n    padding-bottom: 3px;\n  }\n  .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-formControl {\n    height: 100%;\n    border-radius: 0;\n  }\n  .MuiFormControl-root {\n    height: 100%;\n  }\n`;\n\nexport const SearchField: React.FC<ISearchFieldProps> = ({text, onChangeSearch, onSearch, placeHolder, searchOptions, currentOption, onOptionChange, ...rest}) => {\n\n  const hasSelectOptions = searchOptions && searchOptions.length > 0;\n   return (\n    <StyledCard {...rest} elevation={3}>\n      <TextField\n        variant='standard'\n        fullWidth\n        type=\"search\"\n        placeholder={placeHolder}\n        onChange={(e)=>onChangeSearch(e.target.value)}\n        value={text}\n        inputProps={{style:{padding:'9px'}}}\n      />\n      {hasSelectOptions &&\n        <SearchFieldSelect\n          selected={currentOption || ''}\n          options={searchOptions || []}\n          onChange={onOptionChange || (()=>{})}\n        />\n      }\n      <StyledButton \n        onClick={onSearch}\n        variant='contained'\n      >\n        <Typography >\n          {'Search'}\n        </Typography>\n      </StyledButton>\n    </StyledCard>\n  );\n}\n","import React from 'react';\nimport { ISelectOption } from '../ChipsSelect';\nimport { id } from '../../../common/types/domain';\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select as MuiSelect,\n  SelectChangeEvent,\n  BoxProps,\n} from '@mui/material';\nimport { CommonElementProps } from '../../../common/component/types';\n\n\nexport type ISelectOptionsFromBox = Pick<BoxProps, 'marginTop' | 'marginBottom'>;\nexport interface ISelectProps extends CommonElementProps, ISelectOptionsFromBox {\n  selected: id;\n  options: ISelectOption[ ];\n  onChange: (id:id) => void;\n}\n\nexport const Select: React.FC<ISelectProps> = ({options, onChange, selected, ...rest}) => {\n  return (\n    <Box\n      {...rest}\n    >\n      <FormControl\n        sx={{ minWidth: 120 }}\n      >\n        <MuiSelect\n          value={selected}\n          onChange={(event: SelectChangeEvent) => {\n            onChange(event.target.value as string);\n          }}\n        >\n          {options &&options.map((option) => {\n            return (\n              <MenuItem \n                key={option.id} \n                value={option.id}\n              >\n                {option.title}\n              </MenuItem>\n            );\n          })}\n        </MuiSelect>\n      </FormControl>\n    </Box>\n  );\n}\n","import { Button } from '@mui/material';\nimport React from 'react';\n\nexport interface ITextButtonProps extends React.HTMLAttributes<HTMLElement> {\n    title: string;\n    onClick: () => void;\n}\n\nexport const TextButton: React.FC<ITextButtonProps> = ({title, children, onClick, ...rest}) => {\n    return (\n        <Button variant='text' {...rest as any} onClick={onClick}>\n            {title}\n            {children}\n        </Button>\n    );\n}\n","import { Box, TextField as MuiTextField, styled  } from '@mui/material';\nimport React from 'react';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface ITextFieldProps extends CommonElementProps {\n  text: string\n  type: TextFieldType;\n  placeHolder?: string\n  onChange: (text: string) => void;\n}\n\nexport enum TextFieldType {\n  textArea = 'textArea',\n  header = 'header',\n  modalControl = 'modalControl',\n}\n\nconst textAreaStyle: React.CSSProperties  = {padding:'0', height:'100%', overflow:'auto'};\nconst modalControlStyle: React.CSSProperties  = {padding:'0.5rem'};\nconst headerInputStyle: React.CSSProperties  = {padding:'0'};\nconst TextAreaTextField = styled(MuiTextField)`\n\n  & .MuiInputBase-root {\n    padding: 0.5rem;\n    height: 100%;\n  }\n`;\n\n\nexport const TextField: React.FC<ITextFieldProps> = ({...rest}) => {\n  return (\n    <Box \n      height='100%'\n    >\n      <TextFieldInner\n        {...rest}\n      />\n    </Box>\n\n  )\n}\n\nexport const TextFieldInner: React.FC<ITextFieldProps> = ({text, type, placeHolder, onChange, ...rest}) => {\n\n  switch(type){\n    case (TextFieldType.textArea): {\n      return (\n        <TextAreaTextField\n          {...rest as any}\n          fullWidth \n          multiline\n          variant=\"outlined\"\n          placeholder={placeHolder}\n          value={text}\n          onChange={(e)=>onChange(e.target.value)}\n          inputProps={{style:textAreaStyle, row: 1}}\n          sx={{height:'100%'}}\n          rows={6}\n        /> \n      )\n    }\n    case (TextFieldType.modalControl) : {\n      return (\n        <MuiTextField\n         {...rest as any}\n          fullWidth \n          variant=\"outlined\"\n          placeholder={placeHolder}\n          value={text}\n          onChange={(e)=>onChange(e.target.value)}\n          inputProps={{style:modalControlStyle}}\n        /> \n      )\n    }\n    case (TextFieldType.header) : {\n      return (\n        <Box\n          margin='0 0.5rem'\n        >\n          <MuiTextField\n            {...rest as any}\n            fullWidth\n            variant=\"standard\"\n            placeholder={placeHolder}\n            value={text}\n            onChange={(e)=>onChange(e.target.value)}\n            inputProps={{style:headerInputStyle}}\n          /> \n        </Box>\n      )\n    }\n  }\n}\n","import { Alert, Typography } from '@mui/material';\nimport React from 'react';\nimport ReportProblemIcon from '@mui/icons-material/ReportProblem';\nimport { CommonElementProps } from '../../../common/component/types';\n\nexport interface IWarningMasageProps extends CommonElementProps {\n    mesage: string;\n}\n\nexport const WarningMasage: React.FC<IWarningMasageProps> = ({mesage, ...rest}) => {\n    return (\n        <Alert\n        sx={{alignItems:'center', margin: '0.25rem 0'}}\n        color= 'warning'\n        icon={<ReportProblemIcon fontSize='large'/>}\n        \n      >\n        <Typography variant='h6'>\n          {mesage}\n        </Typography>\n      </Alert> \n    );\n}\n","export type CommonElementProps = Pick<\n  React.HTMLAttributes<HTMLElement>,\n  \"className\" | \"style\" | \"children\"\n>;\n\nexport enum ModalMode {\n  closed = 'closed',\n  fillHeight = 'fillHeight',\n  halfHeight = 'halfHeight',\n}\n\nexport enum SlideoutDirection {\nleft = 'left',\nright = 'right',\ntop = 'top',\nbottom = 'bottom',\n}","import { userProfileState } from \"../store/userProfileReducer\";\nimport { FirebaseUserInfo } from \"../types/utility\";\nimport { GenericSelector } from \"cet-redux-saga-toolkit\";\n\nexport type CommonSelector<Result> = GenericSelector<userProfileState, Result>;\ntype id = string;\n\nexport const selectUserProfile: CommonSelector<FirebaseUserInfo> = (state) => {\n  return state.userProfile;\n}\n\nexport const selectIsUserAuthenticated: CommonSelector<boolean> = (state) => {\n  return !!selectUserProfile(state).id;\n}\n\nexport const selectAuthenticatedUserId: CommonSelector<id> = (state) => {\n  return selectUserProfile(state).id;\n}\n\nexport const selectUserProfileAvatar: CommonSelector<string> = (state) => {\n  return selectUserProfile(state).photoURL || '';\n}\n\nexport const selectUserDisplayName:CommonSelector<string> = (state) => {\n  return selectUserProfile(state).displayName || '';\n}\n\nexport const selectUserProfilePhotoUrl: CommonSelector<string> = (state) => {\n  return selectUserProfile(state).photoURL || '';\n}","import { createSlice, PayloadAction, Slice } from \"@reduxjs/toolkit\"\nimport { IHaveId } from \"../types/domain\";\n\nexport type editingFields = {[fieldName: string]: boolean};\n\nexport interface IEditingResourceState<EditingResource extends IHaveId> {\n  data: EditingResource;\n  fieldsEditing: editingFields;\n}\n\nexport type EditingResourceSlice<Resource extends IHaveId> = Slice<IEditingResourceState<Resource>>\n\nexport const createEditingSlice = <EditingResource extends IHaveId>(editingResource: EditingResource, resourceName: string) => {\n\n  const initialEditingResource: IEditingResourceState<EditingResource> = {\n    data: editingResource,\n    fieldsEditing: {},\n  }\n  \n  const slice = createSlice({\n    name: resourceName,\n    initialState: {...initialEditingResource},\n    reducers: {\n      setEditingResource: (state, { payload }: PayloadAction<Partial<EditingResource>>) => {\n        return {\n          ...state,\n          data: {\n            ...state.data,\n            ...payload,\n          },\n        };\n      },\n      startEditingField: (state, { payload: fieldName }: PayloadAction<string>) => ({\n        ...state,\n        fieldsEditing: {\n          ...state.fieldsEditing,\n          [fieldName]: true,\n        },\n      }),\n      finishEditingField: (state, { payload: fieldName }) => ({\n        ...state,\n        fieldsEditing: {\n          ...state.fieldsEditing,\n          [fieldName]: false,\n        }\n      }),\n      reset: () => ({ ...initialEditingResource }),\n    },\n  })\n\n  return slice;\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { id, IHaveId } from \"../types/domain\";\n\nexport interface IExternalResourceState<ExternalResource> {\n  data: ExternalResource[];\n  filters: Partial<IExternalResourceFilters>;\n}\n\nexport interface IExternalResourceFilters {\n  search: string;\n  ids: id[],\n  startDate: Date,\n  endDate: Date,\n}\n\n\nexport enum SearchFields {\n  search = 'search',\n  name = 'name',\n  description = 'description',\n}\n\nexport const searchFields = [SearchFields.search, SearchFields.name, SearchFields.description];\n\n\n// The slice that contains additional properties for handeling like search and page\n\nexport const createExternalResourceAPISlice = <ExternalResource extends IHaveId>(externalResource: ExternalResource, resourceName: string) => {\n  const initialResource: IExternalResourceState<ExternalResource> = {\n    data: [] as ExternalResource[],\n    filters: { \n      search: '',\n    },\n  }\n\n  const slice = createSlice({\n    name: resourceName,\n    initialState: initialResource,\n    reducers: {\n      setResourses: (state, { payload }: PayloadAction<ExternalResource[]>) => {\n        return {\n          ...state,\n          data: [...payload],\n        };\n      },\n      setFilters: (state, { payload }: PayloadAction<Partial<IExternalResourceFilters>>) => ({\n        ...state,\n        filters: {\n          ...state.filters,\n          ...payload,\n        }\n      }),\n      resetResources: () =>({ ...initialResource }),\n    },\n  });\n\n  return slice;\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { FirebaseUserInfo } from \"../types/utility\";\n\nconst userProfileInitialState: FirebaseUserInfo = {\n  id: '',\n  displayName: '',\n  email: '',\n  photoURL: '',\n  providerId: '',\n  phoneNumber: '',\n  notificationsToken: '',\n}\n\nexport const userProfileSlice = createSlice({\n  name: 'teacherModal',\n  initialState: userProfileInitialState,\n  reducers: {\n    setUserProfileState: (state, { payload: stateDiff }: PayloadAction<Partial<FirebaseUserInfo>>) => ({\n      ...state,\n      ...stateDiff,\n    }),\n    resetUserProfileState: () => ({...userProfileInitialState}),\n    setNotificationsToken: (state, { payload: token }: PayloadAction<string>): FirebaseUserInfo => ({\n      ...state,\n      notificationsToken: token,\n    }),\n  },\n});\n","\nexport type id = string;\n\nexport interface IHaveId {\n  id: id;\n};\n\nexport interface IHaveNotificationsToken {\n  notificationsToken: string;\n}\n\nexport interface IBelongToATeacher {\n  teacherId: id;\n}\n\nexport interface IBelongToStudent {\n  studentId: id;\n}\n\nexport interface IBelongToASubject {\n  subjectId: id;\n}\n\nexport interface IUser extends IHaveId {\n  name: string;\n  avatar: string;\n}\n\nexport interface ITeacher extends IUser {\n  description: string;\n  subjects: id[];\n  abonementOffers: id[];\n}\n\nexport interface IStudent extends IUser {\n  abonementConsumables: id[];\n}\n\nexport interface IAbonement extends IHaveId {\n  subjects: id[];\n  type: AbonementType;\n  limitTime: number;\n  limitLessons: number;\n  price: number;\n}\n\nexport interface INotification {\n  title: string;\n  body: string;\n  lessonId: id;\n} \n\nexport interface IAbonementOffer extends IAbonement, IBelongToATeacher {}\n\nexport interface IAbonementConsumable extends IAbonement, IBelongToStudent {\n  dateStart: Date;\n  lessonsAttended: id[];\n}\n\nexport interface ISubject extends IHaveId, IBelongToATeacher {\n  name: string;\n  description: string;\n  rules: id[];\n}\n\nexport interface IPeriodicity {\n  periodicityType: PeriodicityType;\n  periodicityRule: number[];\n}\n\nexport interface IRule extends IHaveId, IBelongToATeacher, IBelongToASubject {\n  timeStart: Date;\n  durationMin: number;\n  periodicity: IPeriodicity;\n}\n\nexport interface ILesson extends IHaveId, IBelongToATeacher {\n  durationMin: number;\n  subject: ISubject;\n  date: Date;\n  accepted: id[],\n  declained: id[],\n  status: LessonStatus | LessonsPreviewSource;\n  ruleId?: id;\n  participants: IUser[];\n}\n\nexport enum AbonementType {\n  limited = 'limited',\n  unlimited = 'unlimited',\n}\n\nexport enum PeriodicityType {\n  weekly = 'weekly',\n  manualDate = 'manualDate',    \n}\n\nexport enum LessonStatus {\n  scheduled = 'scheduled',\n  commingSoon = 'commingSoon',\n  inProcess = 'inProcess',\n  finished = 'finished',\n  done = 'done',\n  canceled = 'canceled',\n}\n\nexport enum LessonsPreviewSource {\n  outerSchedule = 'outerSchedule',\n  thisSubjectSchedule = 'thisSubjectSchedule',\n  editingRuleSchedule = 'editingRuleSchedule',\n}\n\n\n","\nexport const getDateWithTimeStart = (  date: Date, timeStart: Date,): Date => {\n  const currentDate = new Date(date);\n  const timeStartDate = new Date(timeStart);\n\n  const hourStart = timeStartDate.getHours();\n  const minutesStart = timeStartDate.getMinutes();\n\n  currentDate.setHours(hourStart);\n  currentDate.setMinutes(minutesStart);\n\n  return currentDate;\n};","import { ILesson, IRule, ISubject, LessonStatus, LessonsPreviewSource, PeriodicityType } from \"../../types/domain\";\nimport { ISubjectView } from \"../../types/teacherDomainView\";\nimport { getDateWithTimeStart } from \"./getDateWithTimeStart\";\n\nexport const setDay = (daytoset: number, date?: Date): Date => {\n  const currentDate = date? new Date(date) : new Date();\n  const currentDay = currentDate.getDay();\n  const distance = daytoset - currentDay;\n  currentDate.setDate(currentDate.getDate() + distance);\nreturn currentDate;\n};\n\n//get Preview Lessons from ISubjectView[]\nexport const getPreviewLessonsFromSubjects = (subjects: ISubjectView[], lessonsPreviewSource?: LessonsPreviewSource, currentDate?: Date,):ILesson[] => {\n  const previewLessons = subjects.map((subject) => {\n  return  getPreviewLessonsFromASubject(subject, lessonsPreviewSource, currentDate)}).flat();\n  return previewLessons;\n};\n\n//get Preview Lessons from ISubjectView\nexport const getPreviewLessonsFromASubject = (subject: ISubjectView, lessonsPreviewSource?: LessonsPreviewSource,  currentDate?: Date,):ILesson[] => {\n  const { rules } = subject;\n  const previewLessons =  rules.map((rule) => {\n    return getPreviewLessonsFromASingleRule(subject, rule, lessonsPreviewSource, currentDate);\n  }).flat();\n  return previewLessons;\n};\n\n//function get IRule and return array of lessons\nexport const getPreviewLessonsFromASingleRule = (\n  subjectView: ISubjectView, \n  editingRule: IRule,\n  lessonsPreviewSource?: LessonsPreviewSource,\n  currentDate?: Date, \n \n):ILesson[] => {\n  const { periodicity, durationMin, timeStart } = editingRule;\n  const { periodicityType, periodicityRule } = periodicity;\n\n  const subject: ISubject = {\n    ...subjectView,\n    rules: [],\n  };\n\n  switch (periodicityType) {\n    case PeriodicityType.manualDate: {\n      const date = new Date(periodicityRule[0]);\n\n      const dateWithTimeStart = getDateWithTimeStart(date, timeStart);\n\n      const lesson: ILesson = createLesson(subject, dateWithTimeStart, durationMin, lessonsPreviewSource || LessonStatus.scheduled);\n      return [lesson];\n    };\n    case PeriodicityType.weekly: {\n      const lessons: ILesson [] = periodicityRule.map((day) => {\n        const date = setDay(day, currentDate);\n        const dateWithTimeStart = getDateWithTimeStart(date, timeStart);\n\n        const lesson: ILesson = createLesson(subject, dateWithTimeStart, durationMin, lessonsPreviewSource || LessonStatus.scheduled);\n        return lesson;\n      },);\n      return lessons;\n    };\n    default: {\n      return [];\n    }\n  };\n};\n\n//lesson factory\nexport const createLesson = (subject: ISubject, date: Date, durationMin: number, status: LessonsPreviewSource | LessonStatus, ):ILesson => {\n  \n  return {\n    id: '',\n    durationMin,\n    subject,\n    date,\n    accepted: [''],\n    declained: [''],\n    status,\n    teacherId: subject.teacherId,\n    participants: [],\n  };\n}\n\n//if lessons intrsect\n\nexport const isIntersect = (lessons1: ILesson[], lessons2: ILesson[]): boolean => {\n  const allLessons = [...lessons1, ...lessons2].sort((a, b) => a.date.getTime() - b.date.getTime());\n\n  for (let i = 0; i < allLessons.length - 1; i++) {\n    const currentLesson = allLessons[i];\n    const nextLesson = allLessons[i + 1];\n    const currentLessonEndDate = new Date(currentLesson.date);\n    currentLessonEndDate.setMinutes(currentLessonEndDate.getMinutes() + currentLesson.durationMin);\n\n    if (currentLessonEndDate > nextLesson.date) {\n      return true;\n    }\n  }\n\n  return false;\n};\n","import { IRule } from \"../types/domain\";\nimport { getPeriodicityMessage, getTimeRepresentation } from \"./getWeekDayRepresentation\";\n\nexport const getRuleFormatted = (rules: IRule[]): string => {\n\n  const representationsRule: string[] = rules.map((rule) => {\n    const ruleText = getPeriodicityMessage(rule.periodicity);\n\n    const timeStartText = getTimeRepresentation(rule.periodicity, rule.timeStart);\n\n    return `${ruleText} at ${timeStartText}`;\n  });\n\n  const ruleFormatted = representationsRule.join(', ');\n\n  return ruleFormatted;\n}\n","import { IPeriodicity, PeriodicityType } from \"../types/domain\";\n\n//a raw function that returns the string representation of the day of the week\nexport const getWeekDayRepresentation = (weekDays: number): string => {\n  switch (weekDays) {\n    case 0:\n      return 'Monday';\n    case 1:\n      return 'Tuesday';\n    case 2:\n      return 'Wednesday';\n    case 3:\n      return 'Thursday';\n    case 4:\n      return 'Friday';\n    case 5:\n      return 'Saturday';\n    case 6:\n      return 'Sunday';\n    default:\n      return 'Unknown day';\n  }\n};\n\n//a function returns periodicity message like \"Every Monday, Wednesday, Friday\"\nexport const getPeriodicityMessage = (periodicity: IPeriodicity): string => {\n  const { periodicityType, periodicityRule } = periodicity;\n  if (!periodicityRule.length) {\n    return 'No periodicity';\n  } \n  else {  \n    switch (periodicityType) {\n      case PeriodicityType.weekly:\n        if (periodicityRule.length === 7) {\n          return 'Every day';\n        } else {\n          return `On ${periodicityRule.map(getWeekDayRepresentation).join(', ')}`;\n        }\n      case PeriodicityType.manualDate:\n        const date = new Date(periodicityRule[0]);\n        const dateFormatter = new Intl.DateTimeFormat('en-US', {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n        });\n        const dateRepresentation = dateFormatter.format(date);\n        return dateRepresentation;\n      default:\n        return 'Unknown periodicity';\n    }\n  }\n}\n\n//a function returns the string representation of the time\nexport const getManualDateTimeRepresentation = (dateTime: number): string => {\n  const dateRepresentation = new Date(dateTime);\n  const hours = dateRepresentation.getHours();\n  const minutes = dateRepresentation.getMinutes();\n  const hoursRepresentation = hours < 10 ? `0${hours}` : `${hours}`;\n  const minutesRepresentation = minutes < 10 ? `0${minutes}` : `${minutes}`;\n  return `${hoursRepresentation}:${minutesRepresentation}`;\n};\n\nexport const  getTimeRepresentation = (periodicity: IPeriodicity, startTime: Date): string => {\n  const isSingleEvent = periodicity.periodicityType === PeriodicityType.manualDate;\n\n  if (isSingleEvent) {\n    return getManualDateTimeRepresentation(periodicity.periodicityRule[0]);\n  } else {\n    const startTimeDate = new Date(startTime);\n    const minutes = startTimeDate.getMinutes();\n    const hours = startTimeDate.getHours();\n\n    return `${hours}:${minutes < 10 ? `0${minutes}` : `${minutes}`}`;\n  }\n};\n\n","import { UserInfo } from \"firebase/auth\";\nimport { FirebaseUserInfo } from \"../types/utility\";\n\nexport const mapFirebaseUser = ({uid, ...rest}: UserInfo): FirebaseUserInfo => {\n  return {\n    notificationsToken: '',\n    ...rest,\n    id: uid,\n  }\n}\n","import { Messaging } from \"firebase/messaging\";\n// import { app } from \"./firebaseConnection\";\n\nlet messaging = {} as Messaging;\n\n// try {\n//   messaging = getMessaging(app);\n// } catch (error) {\n//   console.error(error);\n// }\n\nexport { messaging };\n","import { MessagePayload, getToken, onMessage } from \"firebase/messaging\";\nimport { messaging } from \"../api/firebaseMessaging\";\n\n\nconst vapidKey = \"BJk6KiXNo2Sr852NiIjfb-pcQwWLONzLeAdTHgSUFyO3NMm47pVsudbb9coGAYOQ5LmMe5bSj378J7bw-XD7O0k\";\n\nexport const requestPermission = async (): Promise< string | undefined > => {\n  const token = await getToken(messaging, { vapidKey });\n  return token;\n}\n\nexport const onMessageListener = () =>{\n  return new Promise<MessagePayload>((resolve) => {\n    onMessage(messaging, (payload) => {\n      resolve(payload);\n    });\n});}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { checkNotificationsPermissionCommand } from '../../../common/commands';\nimport { onMessageListener } from '../../../common/utilities/messaging';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Box } from '@mui/material';\nimport { IconButton } from '../../../common/component/IconButton';\nimport { ButtonType } from '../../../common/component/IconNavButton';\n\n\nexport const NotificationButton: React.FC = () => {\n  const dispatch = useDispatch();\n  onMessageListener().then(({notification}) => {\n    toast.success(JSON.stringify(notification));\n  });\n  return (\n    <Box>\n      <IconButton\n        type={ButtonType.notifications}\n        onClick={() => dispatch(checkNotificationsPermissionCommand.action())}\n      />\n      <ToastContainer \n        limit={5}\n        position=\"top-center\"\n        autoClose={3000}\n        hideProgressBar={true}\n        newestOnTop={false}\n        closeOnClick\n        theme={'colored'}\n      />\n    </Box>\n  );\n}\n","import { selectIsSubjectShowMore, selectIsTeacherShowMore } from \"./novigation\";\nimport { TeacherSelector } from \"./types\";\n\nexport const seeMoreButtonHeight = 42;\nexport const photoHeight = 60;\nexport const avatarHeight = photoHeight - 16;\nexport const descriptionDefaultHeight = 120;\nexport const showMoreDescriptionHeight = descriptionDefaultHeight + 180;\n\nexport const profileDefaultHeight = photoHeight + descriptionDefaultHeight + 50 + 40;\nexport const profileShowMoreHeight = photoHeight + showMoreDescriptionHeight + 50 + 60;\nexport const subjectDescriptionContenerClassName = 'subject-description-wrapper';\n\nexport const selectSubjectDescriptionHeight: TeacherSelector<number> = (state) => {\n  const showMore = selectIsSubjectShowMore(state);\n  const descriptionHeight = showMore ? showMoreDescriptionHeight : descriptionDefaultHeight;\n  return descriptionHeight;\n};\n\nexport const selectDescriptionHeightWithPosibleButton: TeacherSelector<number> = (state) => {\n  const descriptionWrapper = document.querySelector(`.${subjectDescriptionContenerClassName}`);\n  const descriptionHeightWithPosibleButton = descriptionWrapper ? descriptionWrapper.clientHeight : 157;\n  console.log('descriptionHeightWithPosibleButton', descriptionHeightWithPosibleButton); \n  console.log('descriptionWrapper.clientHeight', descriptionWrapper?.clientHeight); \n  return descriptionHeightWithPosibleButton;\n}\n\nexport const selectTeacherDescriptionHeight: TeacherSelector<number> = (state) => {\n  const showMore = selectIsTeacherShowMore(state);\n  const descriptionHeight = showMore ? showMoreDescriptionHeight : descriptionDefaultHeight;\n  return descriptionHeight;\n};\n","import { FullCalendarView } from \"../../common/component/Calendar\";\nimport { ModalMode } from \"../../common/component/types\";\nimport { \n    TeacherCalendarRepresentationType,\n    TeacherView,\n    SubjectListView,\n    LessonView\n  } from \"../store/modal\";\nimport { TeacherSelector } from \"./types\";\n\nexport const selectTeacherCalendarRepresentationType: TeacherSelector<TeacherCalendarRepresentationType> = (state) => state.modal.techerCalendarRepresentationType;\nexport const selectRuleModalMode: TeacherSelector<ModalMode> = (state) => state.modal.ruleModalMode;\nexport const selectIsSubjectShowMore: TeacherSelector<boolean> = (state) => state.modal.subjectDescriptionShowMore;\nexport const selectIsTeacherShowMore: TeacherSelector<boolean> = (state) => state.modal.teacherDescriptionShowMore;\nexport const selectIsAbonementModal: TeacherSelector<boolean> = (state) => state.modal.isAbonementModalOpen;\nexport const selectIsNewRuleModalOpen: TeacherSelector<boolean> = (state) => state.modal.isNewRuleModalOpen;\nexport const selectIsLessonAddParticipantModalOpen: TeacherSelector<boolean> = (state) => state.modal.isLessonAddParticipantModalOpen;\nexport const selectTeacherView: TeacherSelector<TeacherView> = (state) => state.modal.teacherView;\nexport const selectSubjectListView: TeacherSelector<SubjectListView> = (state) => state.modal.subjectListView;\nexport const selectLessonView: TeacherSelector<LessonView> = (state) => state.modal.lessonView;\n\nexport const selectCurrentDate: TeacherSelector<Date> = (state) => state.modal.currentDate;\n\nexport const selectTeacherFullCalendarView: TeacherSelector<FullCalendarView> = (state) => {\n\n  const teacherCalendarRepresentationType = selectTeacherCalendarRepresentationType(state);\n\n  switch (teacherCalendarRepresentationType) {\n    case TeacherCalendarRepresentationType.schedule:\n      return FullCalendarView.listWeek;\n    case TeacherCalendarRepresentationType.calendarWeek:\n      return FullCalendarView.timeGridWeek;\n    default:\n      return FullCalendarView.timeGridWeek;\n  }\n};\n//selectTeacherCalendarRepresentationType","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { ModalMode } from \"../../../common/component/types\";\n\nexport enum TeacherCalendarRepresentationType {\n  schedule = 'schedule',\n  calendarWeek = 'calendarWeek',\n}\n\nexport enum TeacherView {\n  schedule = 'schedule',\n  subjectList = 'subjectList',\n  subjectPage = 'subjectPage',\n  lessonPage = 'lessonPage',\n}\n\nexport enum SubjectListView {\n  subjects = 'subjects',\n  abonements = 'abonements',\n}\n\nexport enum LessonView {\n  accepted = 'accepted',\n  pending = 'pending',\n  declained = 'declained',\n}\n\nexport interface ITeacherModalState {\n  techerCalendarRepresentationType: TeacherCalendarRepresentationType;\n  teacherView: TeacherView;\n  subjectListView: SubjectListView;\n\n  isAbonementModalOpen: boolean;\n\n  isNewRuleModalOpen: boolean;\n  ruleModalMode:ModalMode;\n\n  lessonView: LessonView;\n\n  isLessonAddParticipantModalOpen: boolean;\n\n  teacherDescriptionShowMore: boolean;\n  subjectDescriptionShowMore: boolean;\n\n  currentDate: Date;\n}\n\nconst teacherModalInitialState: ITeacherModalState = {\n  techerCalendarRepresentationType: TeacherCalendarRepresentationType.schedule,\n  teacherView: TeacherView.schedule,\n  subjectListView: SubjectListView.subjects,\n  lessonView: LessonView.accepted,\n  isAbonementModalOpen: false,\n  isLessonAddParticipantModalOpen: false,\n  isNewRuleModalOpen: false,\n  ruleModalMode: ModalMode.halfHeight,\n  teacherDescriptionShowMore: false,\n  subjectDescriptionShowMore: false,\n  currentDate: new Date(),\n};\n\nexport const teacherModalSlice = createSlice({\n  name: 'teacherModal',\n  initialState: teacherModalInitialState,\n  reducers: {\n    setModalState: (state, { payload: stateDiff }: PayloadAction<Partial<ITeacherModalState>>) => ({\n      ...state,\n      ...stateDiff,\n    }),\n    resetModalState: () => ({...teacherModalInitialState}),\n  },\n});\n"],"names":["getNextSearchKey","search","lastCharCode","charAt","length","charCodeAt","nextChar","String","fromCharCode","slice","executeQuery","async","limitedQuesry","query","documentQuery","limit","docs","getDocs","snashot","forEach","currentDocument","index","documentData","transformFirebaseDocudent","push","queryCollectionWithFilters","collection","ids","startDate","endDate","arguments","undefined","ouwnerIdField","OwnerIdFields","ouwner","ouwnerIdFieldValue","where","documentId","documentQuerys","searchFields","field","nextSearchKey","Promise","all","map","Array","from","Set","flat","doc","JSON","stringify","parse","data","id","createCollectionHandeler","db","collectionName","collectionRef","create","addDoc","createData","update","rest","_ref","document","setDoc","delete","deleteDoc","list","ownerId","filters","single","getDoc","EnvPrefixes","DataBaseCollections","createAPIHandelers","prefix","collectionHandelerCreator","teacherAPIHandeler","concat","teacher","studentAPIHandeler","student","subjectApiHandeler","subject","teacherId","rulesApiHandeler","rules","abonementOffer","userAPIHandeler","users","lessonAPIHandeler","lessons","abonementConsumable","studentId","devHandelers","database","production","dev","test","domainHandelers","readSubjectViewApiCall","subjectEntity","rulesIds","rulesEntities","mapDataBaseRuleToRule","name","description","readTeacherViewApiCall","abonementOffers","subjects","abonementsData","subjectsData","subjectRulesIds","flatMap","subjectViews","thisSubjectRules","find","_ref2","itemId","viewRules","filter","item","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","googleAuthProvider","GoogleAuthProvider","facebookAuthProvider","FacebookAuthProvider","auth","getAuth","dataBaseRule","timeStart","toDate","signOutCommand","createCommand","call","signOut","put","userProfileSlice","checkNotificationsPermissionCommand","token","requestPermission","authenticateFirebaseWithProviderEffect","authProvider","signInWithPopup","makeAppSpecificCommands","createNewEntityEffect","createNewEntiryFromProfile","alreadyAuthenticatedUser","payload","user","console","log","userProfile","mapFirebaseUser","providerData","writeUserToStateEffect","authenticateWithFirebase","select","selectUserProfile","authenticateFacebook","AppLayoutFull","styled","children","onSwipeLeft","onSwipeRight","onSwipeUp","onSwipeDown","mouseDown","setMouseDown","useState","handlers","useSwipeable","onSwiped","eventData","dir","_jsx","Box","onMouseDown","e","x","clientX","y","clientY","onMouseUp","deltaX","deltaY","Math","abs","_templateObject","_taggedTemplateLiteral","headerHeight","footerHeight","Avatar","image","size","AvatarMUI","sx","width","height","src","CalendarToolbar","onChengeDateForward","onChengeDateBackward","onToday","_jsxs","Grid","container","spacing","alignItems","justifyContent","IconButton","color","onClick","ArrowBackTwoToneIcon","mx","TodayTwoToneIcon","ArrowForwardTwoToneIcon","Typography","variant","format","EventColors","LessonStatus","LessonsPreviewSource","FullCalendarView","Calendar","_calendarRef$current","representationType","onLessonClick","warningOnOverlapingEvents","calendarRef","useRef","calendarAPI","current","getApi","hasCalendarAPI","useEffect","changeView","getDate","getTime","gotoDate","lessonToView","lessonToCalendarEventMap","lessonsPreviewSource","lesson","status","start","date","startMinuts","getMinutes","end","Date","setMinutes","durationMin","title","flexGrow","overflow","WarningMasage","mesage","handleDatePrevious","calItem","prev","handleDateNext","next","handleDateToday","today","FullCalendar","contentHeight","ref","dayHeaderFormat","weekday","day","titleFormat","month","initialDate","headerToolbar","slotMinTime","slotMaxTime","initialView","eventClick","event","publicId","eventResizableFromStart","events","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","StyledCard","MuiCard","StyledBox","_templateObject2","Card","topLeft","topRight","bottomLeft","bottomRight","hasFirstRow","hasSecondRow","isSingleRow","isSingleTopRight","isSingleBottomRight","flexDirection","ClickOutsideHandler","onClickOutside","handleInternalClick","React","internalClick","setInternalClick","handleClickOutside","contains","target","addEventListener","removeEventListener","useClickOutside","DropDownMenu","options","currentOption","onChange","anchorEl","setAnchorEl","open","Boolean","handleClose","Button","disableElevation","currentTarget","endIcon","KeyboardArrowDownIcon","textTransform","Menu","MenuListProps","onClose","padding","option","isSelected","MenuItem","selected","dense","FooterCard","Footer","elevation","HederCard","Header","type","disabled","Component","IconVariant","MUIIconButton","stopPropagation","IconButtonMenu","isFilter","FilterListIcon","MoreHorizIcon","command","ButtonType","SizedAvatar","schedule","CalendarMonthIcon","avatar","borderRadius","AutoStoriesOutlinedIcon","abonements","AddCardIcon","accepted","HowToRegIcon","pending","PendingActionsIcon","declained","PersonRemoveIcon","cancel","ClearIcon","confirm","CheckTwoToneIcon","more","notifications","NotificationsIcon","SearchIcon","info","InfoOutlinedIcon","arrowBack","ArrowBackIosNewIcon","activeStyle","borderBottom","activeAvatarStyle","border","IconNavButton","isActive","display","fontSize","marginTop","IconLesson","EventAvailableIcon","CloseIcon","UpdateIcon","DoneIcon","SportsScoreIcon","PlayCircleOutlineIcon","getText","thisMoment","distanceInHours","differenceInHours","formatDistance","addSuffix","formatDateDistance","formatDistanceStrict","TitleStyledTypography","LessonHeaderCard","LessonHeader","scheduled","onCancel","colorAlert","canCancel","text","cancelMenuOptions","Alert","icon","action","fontWeight","ProfileWrapper","MetricsContainer","MetricItemContainer","_templateObject3","DescriptionContainer","_templateObject4","StyledButton","SearchFieldSelect","Select","SearchField","onChangeSearch","onSearch","placeHolder","searchOptions","onOptionChange","hasSelectOptions","TextField","fullWidth","placeholder","value","inputProps","style","FormControl","minWidth","MuiSelect","TextButton","TextFieldType","textAreaStyle","modalControlStyle","headerInputStyle","TextAreaTextField","MuiTextField","TextFieldInner","textArea","multiline","row","rows","modalControl","header","margin","ReportProblemIcon","ModalMode","SlideoutDirection","state","selectIsUserAuthenticated","selectAuthenticatedUserId","selectUserProfileAvatar","photoURL","selectUserProfilePhotoUrl","createEditingSlice","editingResource","resourceName","initialEditingResource","fieldsEditing","createSlice","initialState","reducers","setEditingResource","startEditingField","fieldName","finishEditingField","_ref3","reset","SearchFields","createExternalResourceAPISlice","externalResource","initialResource","setResourses","setFilters","resetResources","userProfileInitialState","displayName","email","providerId","phoneNumber","notificationsToken","setUserProfileState","stateDiff","resetUserProfileState","setNotificationsToken","AbonementType","PeriodicityType","getDateWithTimeStart","currentDate","timeStartDate","hourStart","getHours","minutesStart","setHours","getPreviewLessonsFromSubjects","getPreviewLessonsFromASubject","rule","getPreviewLessonsFromASingleRule","subjectView","editingRule","periodicity","periodicityType","periodicityRule","dateWithTimeStart","createLesson","setDay","daytoset","distance","getDay","setDate","participants","isIntersect","lessons1","lessons2","allLessons","sort","a","b","i","currentLesson","nextLesson","currentLessonEndDate","getRuleFormatted","ruleText","getPeriodicityMessage","timeStartText","getTimeRepresentation","join","getWeekDayRepresentation","weekDays","Intl","DateTimeFormat","year","startTime","dateTime","dateRepresentation","hours","minutes","hoursRepresentation","minutesRepresentation","getManualDateTimeRepresentation","startTimeDate","uid","messaging","getToken","vapidKey","onMessageListener","resolve","onMessage","NotificationButton","dispatch","useDispatch","then","notification","toast","ToastContainer","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","theme","photoHeight","avatarHeight","descriptionDefaultHeight","showMoreDescriptionHeight","subjectDescriptionContenerClassName","selectSubjectDescriptionHeight","selectIsSubjectShowMore","selectTeacherDescriptionHeight","selectIsTeacherShowMore","selectTeacherCalendarRepresentationType","modal","techerCalendarRepresentationType","selectRuleModalMode","ruleModalMode","subjectDescriptionShowMore","teacherDescriptionShowMore","selectIsAbonementModal","isAbonementModalOpen","selectIsNewRuleModalOpen","isNewRuleModalOpen","selectIsLessonAddParticipantModalOpen","isLessonAddParticipantModalOpen","selectTeacherView","teacherView","selectSubjectListView","subjectListView","selectLessonView","lessonView","selectCurrentDate","selectTeacherFullCalendarView","TeacherCalendarRepresentationType","TeacherView","SubjectListView","LessonView","teacherModalInitialState","teacherModalSlice","setModalState","resetModalState"],"sourceRoot":""}